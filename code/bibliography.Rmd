---
title: "Bibliography"
author: "Lennart Wittkuhn"
date: "Last update: `r format(Sys.time(), '%d %B, %Y')`"
output:
  bookdown::html_document2:
    toc: yes
    self_contained: true
    toc_float: true
    toc_depth: 3
    number_sections: false
    highlight: pygments
    theme: spacelab
    code_folding: "hide"
    df_print: paged
    fig_caption: true
fig.align: "center"
email: wittkuhn@mpib-berlin.mpg.de
---

# Bibliography

[![Build Status](https://travis-ci.com/lnnrtwttkhn/bibliography.svg?branch=master)](https://travis-ci.com/lnnrtwttkhn/bibliography)

```{r, warning=FALSE, message=FALSE, results='hide', echo=FALSE}
if (!requireNamespace("pacman")) install.packages("pacman")
packages_cran <- c(
  "here", "data.table", "DT", "tidyverse", "lemon", "bookdown", "assertr")
pacman::p_load(char = packages_cran)
# save locale:
loc <- Sys.getlocale("LC_TIME")
Sys.setlocale("LC_TIME", "en_US.UTF-8")
```

```{r}
path_bib <- here::here("public", "bibliography.csv")
bib <- data.table::fread(path_bib) %>%
  # turn URLs into hyperlinks that open in a new tap:
  .[, url := paste0("<a href='", url , "' target='_blank'>URL</a>")] %>%
  # remove curly brackets from the title:
  .[, title := gsub("[{}]", "", title)] %>%
  # convert dates when references were added:
  .[, ":="(date_added_converted = as.Date(
  get("date-added"), format = "%Y-%m-%d %H:%M:%S %z"))]
bib_all = bib %>%
  # select columns:
  .[,c("ID", "title", "author", "year", "journal", "url")]
```

## Overview

Welcome! This website show the entire bibliography maintained by Lennart Wittkuhn.

At the moment, this bibliography contains `r nrow(bib)` references for publications in neuroscience, psychology, statistics, artificial intelligence, meta-science and more.
The last reference was added on `r as.Date(max(bib$date_added_converted), format = "%Y-%m-%d %H:%M:%S %z")`.

The source code of this website can be found at <https://github.com/lnnrtwttkhn/bibliography/>.

## Usage

The table below lists all references sorted by the first author's last name, publication year, and journal name (in that order).

You can use the `Search` bar on the right to search for certain publications (e.g., by author or journal name).

The `URL` column contains hyperlinks that should bring you to the publisher's website for the corresponding publication.

When you use the `bibliography.bib` file in one of your documents (in LaTeX) and you want to cite one of the references, use the citation key in the `ID` column to cite the relevant publication, e.g., `\cite{Abraham2014FN}`.

If a reference is missing, please [get in touch](#contact).

```{r}
DT::datatable(
  bib_all,
  class = "cell-border stripe", rownames = FALSE, escape = FALSE,
  options = list(
    scrollX = TRUE,
    pageLength = 5,
    lengthMenu = c(5, 10, 15, 20)
    ),
  ) 
```

# Filter

In the sections below, I filter the bibliography e.g., depending on certain keywords.

## Replay

Table of publications that mention `replay` in the abstract:

```{r}
bib_replay = bib %>%
  filter(stringr::str_detect(string = abstract, pattern = "replay")) %>%
  setDT(.) %>%
  .[,c("ID", "title", "author", "year", "journal", "url")]
DT::datatable(
  bib_replay,
  class = "cell-border stripe", rownames = FALSE, escape = FALSE,
  options = list(
    scrollX = TRUE,
    pageLength = 5,
    lengthMenu = c(5, 10, 15, 20)
    ),
  ) 
```

## Missing PDFs

List all publications with missing PDFs:

```{r}
bib_pdf = bib %>%
  filter(get("bdsk-file-1") == "") %>%
  filter(journal != "Zenodo") %>%
  setDT(.) %>%
  .[,c("ID", "title", "author", "year", "journal", "url")]
DT::datatable(
  bib_pdf,
  class = "cell-border stripe", rownames = FALSE, escape = FALSE,
  options = list(
    scrollX = TRUE,
    pageLength = 5,
    lengthMenu = c(5, 10, 15, 20)
    ),
  ) 
```

## Publications added per day

```{r}
bib_time = bib %>%
  setorder(date_added_converted) %>%
  .[, by = .(date_added_converted), .(num_added = .N)] %>%
  verify(.[, .(N = .(sum(num_added)))]$N == nrow(bib))
```

Figure \@ref(fig:pub-day) shows the number of publications added to the bibliography per day.
The maximum number of publications added on a single day were `r max(bib_time$num_added)` publications added on `r bib_time$date_added_converted[which.max(bib_time$num_added)]`.

```{r, pub-day, fig.cap="Number of publications added to the bibliography per day (y-axis) over time (in months; x-axis) since creating the bibliography in BibDesk in Sep 2019.", fig.fullwidth=TRUE}
ggplot(data = bib_time, aes(x = date_added_converted, y = num_added)) +
  geom_line() +
  ggtitle("Number of publications added to the bibliography per day") +
  ylab("Number of publications added per day") +
  xlab("Time (months)") +
  theme(panel.background = element_blank()) +
  theme(panel.grid.major = element_blank()) +
  theme(panel.grid.minor = element_blank()) +
  theme(axis.line = element_line(colour = "black")) +
  coord_capped_cart(bottom = "both", left = "both") +
  scale_x_date(date_breaks = "1 months", date_labels =  "%b %Y") +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +
  theme(plot.title = element_text(hjust = 0.5)) +
  annotate("segment", x = as.Date("2020-11-01 UTC"),
           xend = as.Date("2020-12-01 UTC"), y = 45, yend = 45,
           colour = "red", arrow = arrow(length = unit(0.30, "cm"))) +
  geom_label(aes(x = as.Date("2020-10-01 UTC"), y = 45,
        label = "hectic review\nwriting starts"),
        color = "red", size = 3, fontface = "bold")
```

# Contact

If a reference is missing, please [create a new issue](https://github.com/lnnrtwttkhn/bibliography/issues/new/choose) and use the issue template for missing publications.

If you have any questions about the bibliography, [the repository](https://github.com/lnnrtwttkhn/bibliography/), if you spotted a bug or would like to make a comment, please also [open an issue](https://github.com/lnnrtwttkhn/bibliography/issues/new) first, or otherwise [email Lennart](mailto:wittkuhn@mpib-berlin.mpg.de).

Thanks!

# Packages

This website was built using the following computational environment:

```{r}
sessionInfo()
# set back to old locale
Sys.setlocale("LC_TIME", loc) 
```


